window.onload = function(){const queryString = window.location.search;
const urlParams = new URLSearchParams(queryString);
msg = urlParams.get('msg');
if (msg){document.getElementById("message").innerText = msg};
}
function checkLicense(){var e=document.getElementById("license").value;if(isLicenseValid(e)){var t=document.createElement("form");document.body.appendChild(t),t.action="/validate",t.method="POST";var n=document.createElement("input");return n.type="hidden",n.name="license",n.value=e,t.appendChild(n),void t.submit()}document.getElementById("message").innerText="Invalid license key!"}function isLicenseValid(e){if(!isKeyFormatValid(e))return!1;const[,t,n]=e.replace(/-/g,"").match(/(.{16})(.{4})/);if(!isSerialChecksumValid(t,n))return!1;const i=t.substring(0,8);if(!isSeedFormatValid(i))return!1;const r=getSubkeyFromSeed(i,36,1,137);return t.substring(8,10)===r}function isKeyFormatValid(e){return 24===e.length&&20===e.replace(/-/g,"").length}function isSerialChecksumValid(e,t){return getChecksumForSerial(e)===t}function isSeedFormatValid(e){return null!=e.match(/[A-F0-9]{8}/)}function getChecksumForSerial(e){let t=175,n=86;for(var i=0;i<e.length;i++)(t+=e.charCodeAt(i))>255&&(t-=255),(n+=t)>255&&(n-=255);return toFixedHex((n<<8)+t,4)}function toFixedHex(e,t){return e.toString(16).toUpperCase().padStart(t,"0").substring(0,t)}function getSubkeyFromSeed(e,t,n,i){let r;return"string"==typeof e&&(e=parseInt(e,16)),n%=3,toFixedHex(r=(t%=25)%2==0?e>>t&255^255&(e>>n|i):e>>t&255^e>>n&i&255,2)}